{% extends "base.html" %}

{% load materializecss %}

{% block title %}
    Tarefas | Administração
{% endblock %}


{% block page_header %} 
  Tarefa
{% endblock page_header %}



{% block content_main %} 
      
<div class="container">
  <div class="row">
      <div class="col s6 offset-s3">
        <div class="card">
            <div class="card-content">
                <span class="card-title black-text">Atribuição de Tarefa</span>
                
              {% if messages %}
                {% for message in messages %}
                    {% if 'success' in message.tags %}
                        <div class="alert card green lighten-4 green-text text-darken-4">
                            <div class="card-content"> 
                               <p> <i class="material-icons">check_circle</i><span class="alerts"> Task Alert: </span> {{ message }} </p> 
                           </div>
                        </div>
                      {% endif %} 
                       
                      
                      {% if 'error' in message.tags %}
                      <div class="alert card red lighten-4 red-text text-darken-4">
                        <div class="card-content"> 
                           <p> <i class="material-icons">check_circle</i><span class="alerts"> Task Alert: </span> {{ message }} </p> 
                       </div>
                    </div>
                      {% endif %}
                        
                 {% endfor %} 
              {% endif %}
                <hr>

                  <form action="" method="post">
                 
                    {% csrf_token %}
                    
                    <div class="input-field s6">
                      {{form}}
                    </div>

                    <div class="input-field">
                      <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                    </div>
              
                  </form>
            </div>
        </div>

      </div>
    </div>
    <div class="row">
      <div class="right">
        <a href="{% url 'Task:task_view' %}" class="btn orange black-text"><i class="material-icons">arrow_back</i> Voltar </a>
      </div>
    </div>
</div>
          
{% endblock content_main %} 


{% block js_main %}
<script>
  // Remover mensagens de sucesso ou erro após 5 segundos
  setTimeout(function() {
    document.querySelectorAll('.alert').forEach(function(alert) {
      alert.parentNode.removeChild(alert);
    });
  }, 1000);  // 5000 milissegundos = 5 segundos
</script>
{% endblock js_main %}
